‚úÖ IMPLEMENTATION PROMPT ‚Äî DEBUG SUITE V302.md
Status: Locked
Purpose: Add a developer‚Äëonly Debug Suite to Poker Idle Empire for testing the reset flow, wheel outcomes, level‚Äëups, and economy.
Critical Rule: Do NOT modify any existing systems, mechanics, UI, or economy. Only add the debug tools described below.

üìå MANDATORY IMPLEMENTATION CONTRACT
You must implement the Debug Suite exactly as specified.
You must NOT change, refactor, optimise, or ‚Äúimprove‚Äù any other part of the game.
You must NOT alter economy, timers, boosts, buildings, prestige, or UI outside the debug suite.

The Debug Suite is developer‚Äëonly and must never appear for normal players.

If a detail is not explicitly stated, do not invent or assume anything.

üìå REQUIRED DEBUG FEATURES
You must implement the following tools:

1. Instant Cash Injection
A button that instantly adds large amounts of chips for testing:

+1e6

+1e9

+1e12

+1e15

Rules:

Must NOT affect prestige

Must NOT affect signingBonusTotal

Must NOT affect permanent progression

Must NOT be saved

Must NOT persist across reloads

Must NOT modify any existing economy logic

This is purely for testing.

2. Instant Level‚ÄëUp Trigger
A button that forces the next building level‚Äëup animation and reward.

Rules:

Must NOT modify building costs

Must NOT modify building formulas

Must NOT modify timers

Must NOT modify production logic

Must NOT persist

This is for verifying level‚Äëup animations and UI.

3. Wheel Spin Tester
A tool that allows:

Triggering the wheel spin without resetting

Selecting a method (Relocation / Identity / Run)

Forcing a specific outcome OR letting RNG run normally

Displaying the multiplier and message

Rules:

Must NOT modify prestige

Must NOT modify signingBonusTotal

Must NOT modify chips

Must NOT modify escape history

Must NOT modify reset state

This is for verifying wheel probabilities and animations.

4. Reset Flow Tester
A tool that:

Opens the 3‚Äëstage reset flow

Allows skipping to Stage 2 or Stage 3

Allows forcing a multiplier

Allows testing confetti triggers

Does NOT actually reset the game unless ‚ÄúApply Reset‚Äù is pressed

Rules:

Must NOT bypass the real reset logic

Must NOT modify any permanent values unless the real reset is executed

5. State Inspector
A read‚Äëonly JSON viewer showing:

chips

buildings

boosts

prestigePoints

prestigeMultiplier

signingBonusTotal

lastEscapeMethod

lastOutcome

wheelHistory

Rules:

Must be read‚Äëonly

Must NOT allow editing

Must NOT allow injection

Must NOT allow mutation

This is for debugging only.

6. Debug Toggle Button
A small floating button (üõ†) that:

Only appears when import.meta.env.VITE_DEBUG === 'true'

Toggles the Debug Suite panel

Must NOT appear for normal players

Must NOT affect layout

üìå UI RULES
Debug Suite must be a separate component

Must not overlap or interfere with gameplay UI

Must use large hitboxes

Must be mobile‚Äësafe

Must be collapsible

Must not animate excessively

Must not block gameplay

üìå SAVE/LOAD RULES
Debug actions must never be saved.

The following must NOT be persisted:

Instant cash

Forced wheel outcomes

Forced level‚Äëups

Debug toggles

Debug state

Only the existing save fields remain:

lastEscapeMethod

lastOutcome

wheelHistory

prestigePoints

signingBonusTotal

No new save fields may be added.

üìå FINAL RULES (NON‚ÄëNEGOTIABLE)
You must not:
Modify any existing game systems

Change any numbers

Touch the economy

Alter UI outside the debug suite

Add new features outside this prompt

Remove features

Refactor unrelated code

Optimise anything outside the debug suite

You must:
Implement the Debug Suite exactly as described

Keep all existing systems untouched

Maintain deterministic behaviour

Maintain architectural consistency

Ensure the suite is developer‚Äëonly

Testing Scenario:

Enable debug mode (set VITE_DEBUG=true or use ?debug=1 query param)
Use Debug Suite Cash Injector to add chips (e.g., +1e12)
Reset button "Escape & Relocate" now appears
Can test the reset flow with debug-provided chips
The override ensures seamless testing of the reset flow mechanics in debug mode without needing to accumulate chips through normal gameplay!
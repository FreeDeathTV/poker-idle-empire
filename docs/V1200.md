V1200 – Craps Rush: Empire Edition
Status: Approved
Scope: Locked
Drift: Not permitted
Version: 1200
Building: Building Expansion
Reward Type: Temporary Expansion Cost Discount
Discount: Fixed (50% off)
Timer Behaviour: Continues offline (Option A)

1. Overview
Craps Rush: Empire Edition is the final minigame unlocked when the player constructs their first Building Expansion building.

It is a fast, deterministic, single‑roll dice game inspired by casino craps.
Players choose one of three bet groups, roll two dice, and receive a temporary 50% discount on all expansion purchases based on the outcome.

This minigame is intentionally designed with:

negative expected value

more losing than winning

strict cooldowns

daily caps

deterministic dice

…to prevent abuse and maintain long‑term economy health.

2. Core Gameplay Flow (State Machine)
Code  
IDLE → BET_SELECT → ROLL → RESULT → PAYOUT → COOLDOWN → IDLE

IDLE
Game closed or waiting for player input.

No discount applied unless an active timer exists.

BET_SELECT
Player chooses one of three bet groups:

HIGH RISK (WIN)

Totals: 7, 11

Highest reward

Lowest chance

MEDIUM RISK (BONUS)

Totals: 4, 5, 6, 8, 9, 10

Medium reward

Medium chance

LOW RISK (SAFE)

Totals: anything except 2, 3, 12

Low reward

High chance

ROLL
Two dice roll with deterministic seeded animation.

Dice settle on a fixed, reproducible result.

RESULT
Highlight the zone (WIN / BONUS / LOSE).

Compare result to the chosen bet group.

PAYOUT
If the prediction is correct:

Bet Type	Reward Duration
HIGH RISK (WIN)	+15 minutes
MEDIUM RISK (BONUS)	+10 minutes
LOW RISK (SAFE)	+5 minutes
Wrong	0 minutes
COOLDOWN
A 3‑minute cooldown begins after each play.

Timer continues offline.

Game cannot be played until cooldown expires.

3. Reward Logic (Locked)
Reward Type
Expansion Discount Surge  
→ All expansion purchases cost 50% less while active.

Discount Rules
Discount is always 50%

Never increases

Never stacks multiplicatively

Only duration extends

Discount applies to:

Poker Tables

TDs

Any future expansion‑cost items

Duration Ladder (Per Correct Prediction)
Bet Type	Duration Added
HIGH RISK (WIN)	15 minutes
MEDIUM RISK (BONUS)	10 minutes
LOW RISK (SAFE)	5 minutes
Wrong	0 minutes
Daily Cap
Maximum 60 minutes of discount can be earned per day.

After cap is reached:

Game still plays

Rewards = 0

Streak Breaker
After 3 wins in a row, the next roll is forced into a LOSE zone.

Streak resets to 0.

Cooldown
3 minutes between plays

Continues offline

No skipping

No ads

No bypass

4. Dice Model (Deterministic)
Dice
Two six‑sided dice:

ts
dieA: 1–6
dieB: 1–6
total = dieA + dieB
Deterministic Seed
Each round uses a new seed

Seeded RNG ensures reproducible rolls

No Math.random()

No non‑deterministic behaviour

Outcome Groups
Group	Totals	Probability
HIGH RISK (WIN)	7, 11	8/36 = 22%
MEDIUM RISK (BONUS)	4,5,6,8,9,10	24/36 = 66%
LOW RISK (SAFE)	all except 2,3,12	33/36 = 91%
LOSE	2,3,12	3/36 = 8%
5. UI Requirements
Layout
Craps‑style table with three large zones:

WIN (green)

BONUS (blue)

SAFE (yellow)

Dice centered

Bet selection buttons

Cooldown timer

Discount timer badge on Building Expansion building

Animations
Dice shake

Bounce

Slow settle

Zone highlight

Reward burst (gold glow)

Result Screen
Shows:

Dice total

Bet type

WIN / LOSE

Duration added

Current total discount time

6. Economy & Balance Notes
Discount is powerful but time‑limited

Negative EV ensures long‑term stability

Cooldown prevents spam

Daily cap prevents marathon abuse

Streak breaker prevents lucky runs

Deterministic dice prevent fairness complaints

No cross‑building effects

7. Technical Notes
No server calls

No new dependencies

Dice logic must be deterministic

Discount stored as absolute timestamp (discountEndsAt)

On load:

If now < discountEndsAt → discount active

Else → reset

8. Deliverables
V1200.md (this document)

Svelte component: CrapsRush.svelte

Store module: expansionDiscount.ts

Dice animation assets

Deterministic RNG helper

Table layout UI

9. Drift Prevention
Discount always 50%

Only duration changes

Duration ladder locked

Cooldown locked

Daily cap locked

No additional bet types

No extra dice

No multi‑roll sequences

No progressive jackpots

No streak multipliers

No auto‑play

No cross‑building effects

Any deviation requires a new version document (V1201+).
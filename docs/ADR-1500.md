

# **ADR‑1500: Heads‑Up Hold’em Ladder Mode (Ace‑Token Feature)**

## **Context**
Poker Idle Empire currently includes a simple single‑player Hold’em bonus mode. There is no real betting engine, no opponent modelling, and no structured progression. The Ace‑Token Shop lacks a high‑engagement, skill‑based sink that encourages repeat play and long‑term retention.

A request was made to introduce a full multiplayer Hold’em system. This was rejected due to extreme scope, architectural mismatch, and infrastructure requirements. A reduced, deterministic, single‑player heads‑up mode was proposed instead.

This ADR defines the introduction of a **Heads‑Up Hold’em Ladder Mode**, accessed exclusively through the Ace‑Token Shop, using Ace‑Tokens as both entry cost and reward currency. The mode is fully client‑side, deterministic, and contained within a modal.

---

## **Decision**
Implement a **modal‑based, heads‑up Texas Hold’em ladder** where the player faces a sequence of CPU opponents, each with unique portraits, personalities, and AI profiles. The player must defeat each opponent **five times** to unlock the next tier.

The mode will:

- Live **inside the Ace‑Token Shop**
- Be **pay‑to‑enter** using Ace‑Tokens
- Use **Ace‑Tokens or chips** as rewards
- Feature **five CPU opponents** with increasing difficulty
- Include a **progression modal** showing unlock status
- Include a **local leaderboard** featuring both CPU and player stats
- Reuse existing card rendering, hand evaluation, modal system, and UI components
- Require a new lightweight betting engine and AI logic

This feature is a **bolt‑on**, not a core system rewrite.

---

## **CPU Ladder (Final Order & Difficulty)**

1. **TheNorm — Tier 1 (Donkey / Very Easy)**  
   Plays any two cards, calls too much, rarely raises, almost never bluffs.

2. **AnyAceNick — Tier 2 (Loose‑Passive / Easy)**  
   Overvalues Ax hands, calls too light, weak postflop discipline.

3. **RedTheRiot — Tier 3 (TAG / Medium)**  
   Tight‑aggressive, folds weak hands, bets strong ones, punishes loose play.

4. **CrazyHorse — Tier 4 (LAG / Hard)**  
   Hyper‑aggressive, bluffs often, shoves light, forces tough decisions.

5. **MrMark — Tier 5 (TAG+GTO Hybrid / Very Hard)**  
   Balanced, mixes bluffs, adapts to patterns, final boss of the ladder.

Each opponent requires **5 wins** to unlock the next.

---

## **Key Components**
- **Heads‑Up Betting Engine**  
  Minimal state machine supporting fold, call, raise, all‑in, and blind progression.

- **Blind Shrink Ladder**  
  10BB → 7.4BB → 5BB → 2.5BB → 1BB → End.

- **AI Personality Profiles**  
  Five weighted parameters per CPU: aggression, bluff frequency, call frequency, raise frequency, hand strength threshold.

- **Progression Modal**  
  Displays portraits, bios, difficulty stars, and win progress (0/5).

- **Leaderboard**  
  Local leaderboard mixing CPU “career stats” with player results.

- **Ace‑Token Integration**  
  Entry cost, reward distribution, and progression gating.

---

## **Rationale**
This approach:

- Fits the existing deterministic, client‑only architecture.
- Avoids networking, matchmaking, and server infrastructure.
- Provides a high‑engagement Ace‑Token sink.
- Creates a natural progression loop without scope creep.
- Reuses existing UI, card logic, and modal systems.
- Adds replayability and personality to the game world.
- Keeps development time within 40–60 hours.

---

## **Consequences**
### **Positive**
- Stronger Ace‑Token economy.
- High replay value.
- Minimal architectural risk.
- Fully deterministic and testable.
- Expandable (Limit mode, Omaha, new CPUs, daily challenges).

### **Negative**
- Requires new UI assets (portraits).
- Requires a small betting engine rewrite.
- Requires careful tuning of AI profiles.

---

## **Status**
**Accepted.**  
Implementation will be split into sub‑ADRs.

---

## **Related ADRs**
- **ADR‑1501** — Heads‑Up Betting Engine & Blind Ladder  
- **ADR‑1502** — CPU AI Profiles & Behaviour System  
- **ADR‑1503** — Progression Modal & Leaderboard Integration  
- **ADR‑1504** — Ace‑Token Economy Integration (optional if needed)  

---


V601 – Card Shufflers: Chase the Ace
Status: Approved
Scope: Locked
Drift: Not permitted
Version: 601
Building: Card Shufflers
Reward Type: Building‑specific speed boost
Multiplier: Fixed (2×)
Timer Behaviour: Continues offline (Option A)

1. Overview
Chase the Ace is the side‑game unlocked when the player builds their first Card Shuffler.
It is a fast, deterministic, 3‑card shuffle minigame that rewards the player with a 2× speed boost to Card Shufflers only.

The game is intentionally short (5–7 seconds) and designed to be replayed rapidly, creating a controlled dopamine loop without destabilising the economy.

2. Core Gameplay Flow (State Machine)
Code
IDLE → REVEAL → HIDE → SHUFFLE → PICK → RESULT → IDLE
IDLE
Game UI closed or waiting for player input.

No boost applied unless an active timer exists.

REVEAL
3 cards displayed face‑down.

All cards flip face‑up for ~1 second.

One card contains the Ace.

HIDE
Cards flip face‑down again.

SHUFFLE
Deterministic sequence of swaps (no teleporting).

Duration: 1.5–2 seconds.

Shuffle pattern is a fixed array of swaps, e.g.:

Code
[ [0,1], [1,2], [0,2], [1,2] ]
PICK
Player selects one of the 3 cards.

RESULT
Selected card flips face‑up.

If Ace → WIN

If not → LOSE

Apply streak logic (see below).

3. Reward Logic (Locked)
Multiplier
Always 2× speed

Applies only to Card Shufflers

Never increases

Never stacks multiplicatively

Only duration extends

Duration Ladder (Consecutive Wins)
Win #	Duration Added	Total Duration (if no expiry)
1	30 sec	30 sec
2	+2 min	2 min 30 sec
3	+4 min	6 min 30 sec
4	+8 min	14 min 30 sec
5+	+8 min each	+8 min per win
Loss
Streak resets to 0

Duration resets to 0

Next win returns to 30 sec

Timer Behaviour
Timer continues offline

No pausing

No compensation

No offline stacking

Clean, predictable, non‑exploit‑able

4. Data Model
State
Code
streak: number
boostActive: boolean
boostEndsAt: timestamp
Cards
Code
cards = [
  { id: 0, isAce: false, faceUp: false },
  { id: 1, isAce: true,  faceUp: false },
  { id: 2, isAce: false, faceUp: false }
]
Shuffle Pattern
Fixed deterministic array:

Code
shufflePattern = [
  [0,1],
  [1,2],
  [0,2],
  [1,2]
]
5. UI Requirements
Layout
3 cards horizontally aligned

Clear tap/click hitboxes

Smooth flip animations

Shuffle uses translate/transform swaps

Result screen shows WIN or LOSE

Boost Indicator
Small timer badge on the Card Shufflers building

Shows remaining time

Shows streak count

Turns gold when active

6. Economy & Balance Notes
2× multiplier is safe and stable

Duration escalation creates excitement without exponential growth

Offline ticking prevents abuse

Building‑specific boost avoids cross‑system drift

Shuffle is deterministic to avoid fairness complaints

7. Technical Notes
No server calls

No randomness in shuffle animation

Ace position is randomised only at the start of each round

All animations must be deterministic and reproducible

Boost timer stored as absolute timestamp (boostEndsAt)

On load:

If now < boostEndsAt → boost active

Else → reset streak + boost

8. Deliverables
V601.md (this document)

Svelte component: ChaseTheAce.svelte

Store module: cardShufflerBoost.ts

UI asset: 3 card backs + Ace card face

Animation helpers: swapCards() + flipCard()

9. Drift Prevention
Multiplier is fixed at 2×

Only duration escalates

Ladder values are locked

Timer behaviour is locked

No cross‑building effects

No alternative game modes

No additional cards

No difficulty scaling

No random shuffle patterns

No bonus multipliers

No streak‑based multiplier changes

No offline pausing

No auto‑play

Any deviation requires a new version document (V602+).
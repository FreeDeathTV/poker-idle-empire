V801.md â€” Roulette Miniâ€‘Game Update (Final Polished Spec)
Status: ğŸ“˜ Ready for implementation
Version: V801
Purpose: Add a premium, cinematic roulette miniâ€‘game to Poker Idle Empire. The feature is optional, selfâ€‘contained, mobileâ€‘first, and fully protected against economy abuse. It enhances the casino fantasy, adds a daily task hook, and provides a satisfying visual break from the core idle loop.

1. Game Overview
Roulette is introduced as a standalone miniâ€‘game accessible from the main UI.
It provides:

A highâ€‘end casino moment

A dopamineâ€‘rich visual experience

Full roulette betting depth

A safe, capped betting system

A clean, mobileâ€‘first layout

Integration with daily tasks

Roulette does not affect longâ€‘term progression, prestige, or meta systems.

2. Layout â€” Halfâ€‘Board + Scroll (Mobileâ€‘First)
Top Section (Always Visible):
Numbers 1â€“18

Large hitboxes

Clean, uncluttered

Ideal for thumb interaction

Bottom Section (Scrollable):
Numbers 19â€“36

Vertical scroll

Supports all inside bet types

Prevents screen clutter

Outside Bet Controls:
Red / Black

Odd / Even

High / Low

Dozens (1â€“12, 13â€“24, 25â€“36)

Columns (1st, 2nd, 3rd)

Action Area:
Bet amount selector

â€œPLACE YOUR BETSâ€ button

Toast area

This layout ensures clarity, precision, and premium feel on mobile.

3. Bet Types (Full Roulette Coverage)
Inside Bets:
Straight Up (1 number) â€” 35:1

Split (2 numbers) â€” 17:1

Street (3 numbers) â€” 11:1

Corner (4 numbers) â€” 8:1

Line (6 numbers) â€” 5:1

Outside Bets:
Dozens â€” 2:1

Columns â€” 2:1

Red / Black â€” 1:1

Odd / Even â€” 1:1

High / Low â€” 1:1

Placement Rules:
Tap center â†’ straight up

Tap shared edge â†’ split

Tap intersection â†’ corner

Tap row â†’ street

Tap two rows â†’ line

Tap labels â†’ dozens/columns/evenâ€‘chances

All bets appear as chip stacks on the grid.

4. Bank Protection â€” Max Bet Rule (Final)
To prevent economy abuse:

Max bet = 1% of current chips (rounded down)
Applies to:

Single bets

Combined total bets

All bet types

Locked Enhancement:
When the cap is reached:

Disable further chip placement

Bet chip stack plays a subtle red shake animation

Toast: â€œMax bet reached.â€

This guarantees roulette cannot distort the idle economy.

5. Spin Flow â€” Cinematic, Deterministic Sequence
Step 1 â€” Bet Confirmation
Before the wheel appears, show a summary modal:

â€œTotal wagered: X chips (Max allowed: Y)â€  
Buttons:

Confirm Bets

Clear All

Only after Confirm does the wheel appear.

Step 2 â€” â€œPLACE YOUR BETSâ€ â†’ Wheel Appears
All bets lock

Bet UI disables

Wheel overlay slides up

Toast: â€œNo more bets!â€

Step 3 â€” Wheel + Ball Animation
Wheel rotates for 3.5 seconds

Ball rotates opposite direction

Both use easing: fast start â†’ slow deceleration â†’ dramatic stop

Final angle calculated from winning number

Step 4 â€” Result Flash
A Svelte overlay displays:

Large number

Color (red/black/green)

1 second pulse

Example: â€œ23 â€” REDâ€

Step 5 â€” Return to Betting Screen
Wheel fades out

Betting grid fades in

Winning number cell pulses for 1.5 seconds

Winning bets glow

Losing bets fade

Locked Enhancement:
Winning pocket glow is mandatory.

Step 6 â€” Win/Lose Summary Modal
If win:
â€œYou won X chips!â€
Buttons:

Play Again

Return to Main Screen

If lose:
â€œNo luck this time.â€
Buttons:

Play Again

Return to Main Screen

6. Zero Handling (European Rules)
Zero is green

Only straightâ€‘up bets on 0 win

All outside bets lose

Locked Enhancement:
Toast:
â€œZero! House takes it all â€” better luck next spin!â€

7. Payout Logic
General Rule:
If the winning number is in the betâ€™s number list:
payout = betAmount * multiplier  
Else:
payout = 0

Multipliers:
Straight Up: 35

Split: 17

Street: 11

Corner: 8

Line: 5

Dozen: 2

Column: 2

Red/Black: 1

Odd/Even: 1

High/Low: 1

8. Integration With Existing Systems
Daily Tasks:
Add new task:

Spin roulette once â†’ reward Ace Tokens

Toasts:
Use existing toast system for:

Invalid bets

Max bet reached

No more bets

Zero result

Big wins

Persistence:
Bets do NOT persist

Results do NOT persist

No longâ€‘term progression tied to roulette

Escape & Relocate:
Roulette is unaffected

No resets

No bonuses

9. Nonâ€‘Goals for V801
No physics simulation

No 3D wheel

No sound effects (future)

No achievements

No monetisation hooks

No autoâ€‘bet or repeatâ€‘bet (future optional)

10. Success Criteria
All bet types functional

Max bet rule enforced with animation + toast

Wheel animation smooth and deterministic

Result flash clear and readable

Winning pocket glow implemented

Win/Lose modal responsive

Daily task integration works

No drift from architecture

No impact on core idle loop